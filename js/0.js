webpackJsonp([0],{53:function(t,e,a){var n=a(11)(a(57),a(58),null,null);t.exports=n.exports},57:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-list",data:function(){return{auth:{authenticated:!1,user:{name:"",email:""}},tasks:[]}},mounted:function(){var t=this;null!=localStorage.getItem("id_token")&&this.getUser(),window.axios.get("tasks").then(function(e){t.tasks=e.data}).catch(function(t){})},methods:{getUser:function(){var t=this;window.axios.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("id_token"),window.axios.get("auth/user").then(function(e){t.auth.authenticated=!0,t.auth.user=e.data.data}).catch(function(t){})},signout:function(){localStorage.removeItem("id_token"),this.auth.authenticated=!1,this.auth.user=null},deleteTask:function(t){var e=this;window.axios.delete("tasks/"+t).then(function(a){var n=e.tasks.findIndex(function(e){return e.id===t});e.tasks.splice(n,1)}).catch(function(t){})}}}},58:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",[a("ul",{staticClass:"list-inline"},[t.auth.authenticated?t._e():a("li",{staticClass:"pull-right"},[a("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1),t._v(" "),t.auth.authenticated?t._e():a("li",{staticClass:"pull-right"},[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t._v(" "),t.auth.authenticated?a("li",{staticClass:"pull-right"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.signout(e)}}},[t._v("Logout")])]):t._e(),t._v(" "),t.auth.authenticated?a("li",{staticClass:"pull-right"},[t._v("\n              Hi, "+t._s(t.auth.user.name)+"\n          ")]):t._e()])]),t._v(" "),a("h3",[t._v("Tasks List")]),t._v(" "),a("ul",{staticClass:"list-group"},t._l(t.tasks,function(e){return a("li",{staticClass:"list-group-item"},[a("span",[t._v(t._s(e.name)+" "),a("a",{staticClass:"pull-right",attrs:{href:"#"},on:{click:function(a){t.deleteTask(e.id)}}},[t._v("X")])])])})),t._v(" "),t.auth.authenticated?a("router-link",{attrs:{to:"/create"}},[t._v("Create a new task")]):t._e()],1)},staticRenderFns:[]}}});